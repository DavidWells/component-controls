---
title: Custom documentation pages for storybookjs
type: blog
---


# Overview

[@component-controls/storybook-custom-docs](https://github.com/ccontrols/component-controls/tree/master/misc/storybook-custom-docs) makes it possible to add an unlimited number of custom documentation pages to storybook.

![integrated in storybook](https://github.com/ccontrols/component-controls/raw/master/misc/storybook-custom-docs/images/custom-docs-pages.gif)

## Demo sites

* Storybook6
  - [Live site](https://custom-pages-storybook-6.netlify.app)
  - [Source code](https://github.com/ccontrols/component-controls/tree/master/examples/custom-pages-storybook-6)

* Storybook5 (storybook 5 support is wip)
  - [Live site](https://custom-pages-storybook-5.netlify.app/)
  - [Source code](https://github.com/ccontrols/component-controls/tree/master/examples/custom-pages-storybook-5)


## Background

The Storybook [addon-docs](https://github.com/storybookjs/storybook/tree/next/addons/docs) is a great feature to display documentation in Storybook, unfortunately the early versions (5.x and 6.x as of this writing) have a few limitations, amongst them is that there can be only one 'docs' page.

In order to have multiple, fully functional documentation pages, we had to solve the following challenges:

1. Circumvent the hard-coded [docs render](https://github.com/storybookjs/storybook/blob/855815293b59412eea2b57f20eaa02982fcb5360/lib/core/src/client/preview/StoryRenderer.tsx#L168).

docs pages need to reside in the `preview` part of Storybok in order to render stories (since that's where the stories render functions reside), while the TAB addons are placed in the `manager` part of storybook. Since the manager and the preview reside in different bundles, only JSON-compatible data is available to any code residing in the manager, thus any functions are not available.

2. Circumvent the hard-coded [DOM elements](https://github.com/storybookjs/storybook/blob/855815293b59412eea2b57f20eaa02982fcb5360/lib/core/src/server/templates/index.ejs#L31)

documentation pages that render stories need to reside inside the preview `iframe` in order to render stories in a custom `docs` page and prevent css styles leaking into the story functions, while regular storybook `TAB`-type addons are rendered outside the `iframe`.

## Step by step guide

- Getting started

install the addon:

```bash
yarn add @component-controls/storybook-custom-docs
```

in `.storybook/main.js` - enable the plugin and configure the pages options parameter.

```js
module.exports = {
 ...
  addons: [
    ...
    {
      name: '@component-controls/storybook-custom-docs',
      options: {
        //configure an array of the pages to display
        pages: [require.resolve('./page-story.js')]
      }, 
    }
  ],
};
```

- Page templates
the custom page template files must have a default export with the following fields

```js
{
  //the url path for the page. e.g: 'page'
  key: string,
 
  //the tab title.  e.g: 'My Pages'
  title: string,
  
  //render function, return your custom page here.
  render: ({ active }) => React.ReactNode,
}
```

## Examples

1. **From component-controls/pages**

Component-controls comes with a handy selection of page templates that you can use as a starting point. The only requirement is to enclose the pages in a `DocsContainer` context from `@component-controls/storybook`

```
import React from 'react';
import { ClassicPage } from '@component-controls/pages';
import { DocsContainer } from '@component-controls/storybook';
export default {
  key: 'page',
  title: 'Page',
  render: ({ active }) => active ? (
    <DocsContainer active={active}>
      <ClassicPage />
    </DocsContainer>
  ): null,
};
```