---
title: Migration from Storybook 6
type: blog
date: 2020-11-17
author: atanasster
route: /blogs/storybook-6-migration
draft: true
description: A step-by-step guide on migrating a documentation site from Storybook 6 to component-controls.
tags:
  - storybook
  - gatsby
---
import { Playground, Props, Story } from '@component-controls/blocks';
import { Button } from '../components/Button'


# Migration from Storybook 6

[Storybook](https://storybook.js.org) is an open source tool for developing UI components in isolation for React, Vue, Angular, and more. It makes building stunning UIs organized and efficient.

component-controls provides migration compatibility for many of the story(examples) and documentation features in `Storybook`. And component-controls can also use [gatsby](/tutorial/getting-started/gatsby) or [nextjs](/tutorial/getting-started/nextjs) as a static site generator to provide huge performance improvements.

-- starybook as the static site generator

[source code](https://github.com/ccontrols/component-controls/tree/master/examples/docz-migration)

[live site](https://storybook-6-migration.netlify.app)

-- convert the site generator to gatsby

> The sample project was bootstraped from [tw-sb-rtl-starter](https://github.com/ssengalanto/tw-sb-rtl-starter)

# Use storybook as the static site generator

## Add component-controls/storybook to your storybook project

```sh
yarn add @component-controls/storybook
```

## Update configuration files

component-controls has two configuration files - one is used during build-time in a nodejs environment, the other is used during run-time in a browser environment. 

### build-time configuration

storybook `main.js` - corresponds to the 

```js:title=.storybook/main.js
module.exports = {
  stories: ...,
  addons: [{
    name: '@component-controls/storybook',
    options: {
      webpack: ['instrument', 'react-docgen-typescript'],
    }
  }]
}
```

### run-time configuration

storybook `preview.tsx`

## Update story files

# Use storybook

Using this approach, you will allow storybook to generate the static documentation pages. 

> Using storybook as the static site generator is not recommended, since it creates underperforing web sites.

## install storybook-plugin

# Use gatsby

## install gatsby packages

```bash
yarn add gatsby @component-controls/gatsby-theme-stories
```

## Configuration file path

 By default, the storybook configuration files are kept in a `.storybook` subfolder, while component-controls uses a `.config` sub-folder.

```js:title=gatsby-config.js
module.exports = {
  plugins: [
    {
      resolve: '@component-controls/gatsby-theme-stories',
      options: {
        //doczrc.js file located in project main folder
        configPath: '.storybook',
      },
    },
  ],
};
```

## Launch scripts

Next, you should add the gatsby develop and gatsby build scripts to the project's `package.json`

```json:title=package.json
  "scripts": {
    //component-controls scripts
    "build-docs": "gatsby clean && gatsby build",
    "start": "gatsby develop -p 9022",
    //docz original scripts
    "develop": "docz dev",
    "build": "docz build --dest public",
    "serve": "docz serve"
  },
```

