---
title: Getting started/Gatsby
type: tutorial
order: 0
tags:
  - gatsby
---

# Getting started with Gatsby

## New project 

Create a new folder

```sh
mkdir my-gatsby-project && cd my-gatsby-project
```

initialize the project

```sh
yarn init
```

add gatsby dependencies

```sh
yarn add gatsby react react-dom
```

in `package.json`
```json
...
  "scripts": {
    "build": "gatsby build",
    "start": "gatsby develop"
  },
...
```

The remaining steps are the same as for an existing gatsby project

## Existing project

### Add theme

```sh
yarn add @component-controls/gatsby-theme-stories
```

### Configure theme

create a `gatsby-config.js` file in your project folder
```js
//gatsby-config.js:
module.exports = {
  plugins: [
    {
      resolve: '@component-controls/gatsby-theme-stories',
      options: {
        configPath: '.config',
      },
    },
  ],
};
```

### Create component-controls config folder

Create a new folder `.config` inside your proejct (or any other name that you used in the step above)


### Create component-controls build-time configuration

create a file `.config/buildtime.js` and enter the paths to search for component-controls documentation files

```js
//.config/buildtime.js
module.exports = {
  stories: [
    '../src/docs/*.mdx',
  ],
};
```

### Create documentation folder

create a folder to store your documentation files (the same as specified in the configuration file above):
```sh
mkdir src && mkdir src/docs
```

### Create an MDX documentation file

in `src/docs/first-page.mdx`:

```mdx
---
title: First Page
---

# My First doc page
```

more: [writing mdx documentation](/tutorial/mdx-documentation)


### Create an MDX "story" file

Assuming you have a `Button` component, you can write stories(examples) for it:

in `src/docs/first-story.mdx`:

```mdx
---
title: First Story
---
import { Button } from '../components/Button';
import { Playground, Story, PropsTable,  ComponentSource, StorySource  } from '@component-controls/blocks';


# My First doc page

<ComponentSource of={Button} title='Component source' />

<Playground description="Button story">
  <Story name="simple">
    <Button>
      click me
  </Button>
  </Story>
</Playground>

<StorySource id="." />

<PropsTable of={Button} />
```

more: [writing mdx stories](/tutorial/mdx-stories)

### Start the project

```sh
yarn start
```

### Buid a static site

```sh
yarn build
```