import {
  Story,
  Preview,
  Props,
  Source as DocsSource,
  Meta,  
} from '@storybook/addon-docs/blocks';
import { BlockContextProvider, ControlsTable, ComponentSource, StorySource } from '@component-controls/storybook';
import { Button } from '../components/Button';


<Meta title="Storybook/MDX" parameters={{component: Button}} />

# Smart controls
<BlockContextProvider>
  <ComponentSource of={Button} title='Component source' />
</BlockContextProvider>  

<Story id="." />

<BlockContextProvider>
  <StorySource id="." />
</BlockContextProvider>

<Props of={Button} />


<Preview>
  <Story name="smart story">
    {(props) => (
      <Button label="default" {...props}/>
    )}  
  </Story>
</Preview>


# Small story with custom controls

<Preview>
  <Story name="small story" 
    controls={{
      text: {type: 'text', value: 'Hello'},
    }}
    >
    {({ text }) => (
      <Button label={text}/>
    )}  
  </Story>
</Preview>

<BlockContextProvider>
  <ControlsTable name="small story" />
</BlockContextProvider>  

# Story with no parameters == no smart controls

<Preview>
  <Story name="no controls">
      <Button label="Hello"/>
      <Button label="Second button"/>
  </Story>
</Preview>
